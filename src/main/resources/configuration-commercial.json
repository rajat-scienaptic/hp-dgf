{
  "sparkConfig": {
    "master": "local",
    "appName": "hp-retail"
  },
  "sources": {
    "IEC_CLAIMS": {
      "name": "iec_claims",
      "filePath": "/home/avik/Scienaptic/RnD/data/iec_claims.csv",
      "select": {
        "select01": {
          "isUnknown":"n",
          "cols": ["Big Deal ID","Deal Description","Business Model Description","Partner Desc","Partner Ship Calendar Date","Product ID","Claim Quantity","Claim Partner Unit Rebate"]
        }
      },
      "filter": {
        "filter01": {
          "multiWordMap" : { "ptnr_Date": "Partner Ship Calendar Date"},
          "conditionTypes": ["and"],
          "conditions": ["ptnr_Date > 31-Oct-2018"]
        }
      }
    },
    "XS_CLAIMS": {
      "name": "xs_claims",
      "filePath": "/home/avik/Scienaptic/RnD/data/.csv",
      "outFilePath" : "",
      "select": {
        "select01": {
          "isUnknown":"n",
          "cols": ["Deal ID","Deal Description","Business Model Description","Claim Partner Name","Partner Ship Calendar Date","Manufacturing Product Identifier","Claim Quantity","Claim Partner Unit Rebate USD"]
        }
      },
      "join": {
        "join01": {
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["Big Deal ID","Base SKU"],
            "right": ["C2B Promo Code","SKU"]
          },
          "selectCriteria": {
            "isUnknown": "n",
            "left": [], "right": []
          }
        },
        "join02": {
          "typeOfJoin": ["inner"],
          "joinCriteria": {
            "left": ["Week End Date"],
            "right": ["Week_End_Date"]
          },
          "selectCriteria": {
            "isUnknown": "n",
            "left": [], "right": []
          }
        },
        "join03": {
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["Base SKU"],
            "right": ["SKU"]
          },
          "selectCriteria": {
            "left": [], "right": ["SKU","Street Price","Consol SKU","Abbreviated Name","Full Name","Platform Name","Brand","IPSLES","HPS/OPS","Series","Category","Category Subgroup","Category_1","Category_2","Category_3","Line","PL","Mono/Color","Category Custom","Need Big Data","Top SKU"]
          }
        }
      },
      "group" : {
        "group01": {
          "cols" : ["Week End Date", "Partner Ship Calendar Date", "Partner Desc", "Big Deal ID", "Base SKU", "Claim Partner Unit Rebate"],
          "aggregations": {"sum":{"Claim Quantity":"Claim Quantity"}}
        },
        "group02": {
          "cols": ["Partner Desc","Big Deal ID","Base SKU","Week End Date"],
          "aggregations": {"sum":{"Sum_Claim Quantity":"Claim Quantity"}}
        }
      }
    },
    "RAW_MASTER_CALENDAR": {
      "name": "raw_master_calendar",
      "filePath": "/home/avik/Scienaptic/RnD/data/.csv",
      "select": {
        "select01": {
          "isUnknown":"n",
          "cols": ["BU","SKU","Product","Rebate Amount","Promo Name","C2B Promo Code","Start Date","End Date","Season","Season_Ordered"]
        },
        "select02": {
          "isUnknown":"y",
          "cols":["Start Date","End Date","Start - Week End","Week End - End","Season Ordered","New End Date","Max_Week_End_Date","End Date Change"]
        }
      },
      "join": {
        "join01": {
          "typeOfJoin": ["inner"],
          "joinCriteria": {
            "left": ["Big Deal ID","Base SKU"], "right": ["C2B Promo Code","SKU"]
          },
          "selectCriteria": {
            "isUnknown": "n",
            "left": ["Week End Date","Partner Ship Calendar Date","Partner Desc","Big Deal ID","Base SKU","Claim Partner Unit Rebate","Sum_Claim Quantity"],
            "right": ["C2B Promo Code","Start Date","End Date"]
          }
        },
        "join02": {
          "typeOfJoin": ["inner"],
          "joinCriteria": {
            "left": ["Base SKU","C2B Promo Code"], "right": ["Base SKU","C2B Promo Code"]
          },
          "selectCriteria": {
            "isUnknown": "n",
            "left": ["Week End Date","Base SKU","Claim Partner Unit Rebate","C2B Promo Code","Sum_Sum_Claim Quantity"],
            "right": ["Avg_Sum_Sum_Claim Quantity"]
          }
        },
        "join03": {
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["SKU","C2B Promo Code"],
            "right": ["Base SKU","C2B Promo Code"]
          },
          "selectCriteria": {
            "isUnknown": "y",
            "left": [],
            "right": []
          }
        },
        "join04": {
          "typeOfJoin": ["left"],
          "joinCriteria": {
            "left": ["Big Deal ID"], "right": ["C2B Promo Code"]
          },
          "selectCriteria": {
            "isUnknown": "y",
            "left": [],
            "right": []
          }
        }
      },
      "filter": {
        "filter01": {
          "multiWordMap": { "out_promo_date": "Outside Promo Date"},
          "conditionTypes": ["and"],
          "conditions": ["out_promo_date = N"]
        },
        "filter02": {
          "multiWordMap": { "out_promo_date": "Outside Promo Date"},
          "conditionTypes": ["and"],
          "conditions": ["Outside Promo Date = Y"]
        },
        "filter03": {
          "multiWordMap": { "Include": "Include"},
          "conditionTypes": ["and"],
          "conditions": ["Include = Y"]
        }
      },
      "group" : {
        "group01": {
          "cols" : ["C2B Promo Code","SKU","Start Date","End Date"],
          "aggregations": {"sum" : {"dummy":"dummy"}}
        },
        "group02": {
          "cols": ["Base SKU","C2B Promo Code"],
          "aggregations": {"avg": {"Sum_Sum_Claim Quantity": "Avg_Sum_Sum_Claim Quantity"}}
        },
        "group03": {
          "cols": ["C2B Promo Code","Base SKU"],
          "aggregations": {"max": {"Week End Date": "Max_Week_End_Date"}}
        },
        "group04" :{
          "cols": ["C2B Promo Code"],
          "aggregations": {"sum": {"dummy": ""}}
        },
        "group05": {
          "cols": ["SKU","Week_End_Date","Option Type"],
          "aggregations": {"max": {"Rebate Amount": "IR"},
                           "first": {"C2B Promo Code":"First_C2B Promo Code"}}
        }
      },
      "sort" : {
        "sort01": {
          "asc": ["SKU","Week_End_Date"],
          "desc": ["Rebate Amount"]
        }
      },
      "rename" : {
        "rename01": {
          "C2B Promo Code": "First_C2B Promo Code"
        }
      }
    },
    "AUX_WEEK_END_DATE": {
      "name": "aux_week_end_date",
      "filePath": "/home/avik/Scienaptic/RnD/data/aux_week_end_date.csv",
      "select": {
        "select01": {
          "isUnknown":"n",
          "cols": ["fy_week","wed","season","season_ordered","cal_month","cal_year","fiscal_quarter","fiscal_year"]
        }
      },
      "rename" : {
        "rename01": {
          "wed": "Weed_End_Date",
          "season_ordered":"Season_Ordered",
          "cal_month": "Cal_Month",
          "cal_year": "Cal_Year",
          "fiscal_quarter": "Fiscal_Qtr",
          "fiscal_year": "Fiscsl_Year"
        },
        "rename02": {
          "wed": "Weed_End_Date",
          "season": "Season",
          "season_ordered":"Season_Ordered",
          "cal_month": "Cal_Month",
          "cal_year": "Cal_Year",
          "fiscal_quarter": "Fiscal_Qtr",
          "fiscal_year": "Fiscsl_Year"
        }
      },
      "join": {
        "join01": {
          "typeOfJoin": ["inner"],
          "joinCriteria": {
            "left": ["Week End Date"], "right": ["Week_End_Date"]
          },
          "selectCriteria": {
            "isUnknown":"y",
            "left": [], "right": []
          }
        },
        "join02": {
          "typeOfJoin": ["inner"],
          "joinCriteria": {
            "left": ["Week End Date"], "right": ["Week_End_Date"]
          },
          "selectCriteria": {
            "isUnknown":"y",
            "left": ["Account Company","Week","Claim Quantity","Week End Date"], "right": []
          }
        },
        "join03": {
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["Reseller","Season"], "right": ["Base Account","Season"]
          },
          "selectCriteria": {
            "isUnknown":"y",
            "left": [], "right": ["Season"]
          }
        },
        "join04": {
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["Product Base ID"], "right": ["SKU"]
          },
          "selectCriteria": {
            "isUnknown":"y",
            "left": ["Product Base Desc","Product Base ID","Reseller Category","ST Big Deal Qty","ST Non Big Deal Deal Qty","ST Qty","STT Big Deal Qty","STT Non Big Deal Deal Qty","STT Qty"],
            "right": ["Added","Full Name","L0: Format","L3: IDC Category","Need Big Data","Need IFSC?","NPD Model","NPD Product Category","Platform Name","Sales Product Name","SKU","Top SKU"]
          }
        }
      },
      "group" : {
        "group01": {
          "cols" : ["Product Base ID","Product Base Desc"],
          "aggregations": {"sum" : {"ST Qty":"Sum_ST Qty", "STT Qty":  "Sum_STT Qty"}}
        }
      },
      "sort" : {
        "sort01": {
          "asc": ["Product Base ID"],
          "desc": ["Sum_STT Qty","Sum_ST Qty"]
        }
      }
    },
    "AUX_SKU_HIERARCHY": {
      "name": "aux_sku_hierarchy",
      "filePath": "/home/avik/Scienaptic/RnD/data/aux_sku_hierarchy.csv"
    },
    "ST_ORCA" :{
      "name": "st_orca",
      "filePath": "/home/avik/Scienaptic/RnD/data/st_orca.csv",
      "select": {
        "select01": {
          "isUnknown": "y",
          "cols": ["Quarter","Month","Buyer Account Company OIID","Buyer Account Company Siebel Location ID","Flag Duplicate Sale","Seller Account Company"]
        }
      },
      "join":{
        "join01": {
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["Big Deal Nbr"], "right": ["C2B Promo Code"]
          },
          "selectCriteria": {
            "left": [], "right": []
          }
        },
        "join02": {
          "isUnknown": "y",
          "typeOfJoin": ["right","inner"],
          "joinCriteria": {
            "left": ["Week End Date","Product Base ID","Account Company"],
            "right": ["Week End Date","Product Base ID","Account Company"]
          },
          "selectCriteria": {
            "left": [], "right": ["Product Base ID","Product Base Desc","Account Company","Week End Date","Week"]
          }
        },
        "join03": {
          "isUnknown": "y",
          "typeOfJoin": ["right"],
          "joinCriteria": {
            "left": ["Big Deal Nbr","Account Company","Product Base ID"],
            "right": ["Big Deal ID","Partner Desc","Base SKU"]
          },
          "selectCriteria": {
            "left": [], "right": []
          }
        }
      },
      "group": {
        "group01": {
          "cols" : ["Big Deal Nbr","Account Company","Product Base ID"],
          "aggregations": {"sum" : {"Qty":"Sum_Qty"}}
        },
        "group02": {
          "cols" : ["Product Base ID","Product Base Desc","Account Company","Week End Date"],
          "aggregations": {"sum" : {"Qty":"Sum_Qty"}}
        },
        "group03":{
          "cols" : ["Product Base ID","Product Base Desc","Account Company","Week End Date"],
          "aggregations": {"sum" : {"Qty":"Sum_Qty"}}
        },
        "group04":{
          "cols" : ["Partner Desc","Base SKU","Week End Date"],
          "aggregations": {"sum" : {"Claim Quantity":""}}
        }
      },
      "filter": {
        "filter01":{
          "multiWordMap" : {"big_deal": "Big Deal"},
          "conditionTypes": ["and"],
          "conditions": ["Big Deal = 1"]
        }
      }
    },
    "STT_ORCA" :{
      "name": "stt_orca",
      "filePath": "/home/avik/Scienaptic/RnD/data/stt_orca.csv",
      "select": {
        "select01": {
          "isUnknown": "y",
          "cols": ["Quarter","Month","Flag Duplicate Sale","Big Deal Eclipse Customer ID"]
        }
      },
      "join":{
        "join01": {
          "isUnknown":"y",
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["Big Deal Nbr"], "right": ["C2B Promo Code"]
          },
          "selectCriteria": {
            "left": [], "right": []
          }
        },
        "join02": {
          "isUnknown":"y",
          "typeOfJoin": ["right","inner"],
          "joinCriteria": {
            "left": ["Week End Date","Product Base ID","Account Company"],
            "right": ["Week End Date","Product Base ID","Account Company"]
          },
          "selectCriteria": {
            "left": [], "right": ["Product Base ID","Product Base Desc","Account Company","Week End Date","Week"]
          }
        },
        "join03": {
          "isUnknown":"y",
          "typeOfJoin": ["right","inner"],
          "joinCriteria": {
            "left": ["Product Base ID","Account Company","Week End Date"],
            "right": ["Product Base ID","Account Company","Week End Date"]
          },
          "selectCriteria": {
            "left": [], "right": ["Product Base ID","Product Base Desc","Account Company","Week End Date","Week"]
          }
        },
        "join04": {
          "isUnknown":"y",
          "typeOfJoin": ["left","inner"],
          "joinCriteria": {
            "left": ["Product Base ID","Account Company","Week End Date"],
            "right": ["Base SKU","Partner Desc","Week End Date"]
          },
          "selectCriteria": {
            "left": [], "right": []
          }
        }
      },
      "group": {
        "group01": {
          "cols" : ["SKU","Option Type"],
          "aggregations": {"sum" : {"dummy":"dummy"}}
        },
        "group02": {
          "cols" : ["Big Deal Nbr","Account Company","Product Base ID"],
          "aggregations": {"sum" : {"Qty":"Sum_Qty"}}
        },
        "group03": {
          "cols" : ["Product Base ID","Product Base Desc","Account Company","Week End Date"],
          "aggregations": {"sum" : {"Qty":""}}
        },
        "group04": {
          "cols" : ["Product Base ID","Product Base Desc","Account Company","Week End Date"],
          "aggregations": {"sum" : {"Qty":""}}
        },
        "group05": {
          "cols" : ["Account Company","Week End Date","Product Base ID","Product Base Desc"],
          "aggregations": {"sum" : {"ST Big Deal Qty":"", "ST Qty": "", "ST Non Big Deal Qty": "", "STT Big Deal Qty": "", "STT Qty": "", "STT  Non Big Deal Qty": ""}}
        }
      },
      "filter": {
        "filter01": {
          "multiWordMap" : { "big_deal": "Big Deal"},
          "conditionTypes": ["and"],
          "conditions": ["big_deal = 1"]
        }
      }
    },
    "AUX_COMM_RESELLER_OPTIONS" :{
      "name": "aux_comm_reseller_options",
      "filePath": "/home/avik/Scienaptic/RnD/data/stt_orca.csv",
      "select": {
        "select01": {
          "isUnknown": "n",
          "cols": ["Base Account","OPP Option","Reseller Category","season"]
        }
      }
    },
    "AUX_ETAILER": {
      "name": "aux_etailer",
      "filePath": ".....",
      "select": {
        "isUnknown": "y",
        "cols": ["Location ID","Account","QP 1_0 Letter to Send"]
      }
    },
    "CI_ORCA": {
      "name": "ci_orca",
      "filePath": ".....",
      "select": {
        "isUnknown": "y",
        "cols": ["Quarter","Month","Weed Desc","Product Base Desc"]
      }
    }
  }
}